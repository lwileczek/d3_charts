<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>lwileczek3</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">
    <script src="../lib/d3.v5.min.js"></script> 
    <script>
      var data=[
        {country: 'Bangladesh', population_2012: 105905297, growth: 
        {year_2013:42488 , year_2014:934 , year_2015:52633 , year_2016:112822 , year_2017:160792}},
        {country: 'Ethopia', population_2012: 75656319, growth: 
        {year_2013:1606010 , year_2014:1606705 , year_2015:1600666 , year_2016:1590077 , year_2017:1580805}},
        {country: 'Kenya', population_2012: 33007327, growth: 
        {year_2013:705153 , year_2014:703994 , year_2015:699906 , year_2016:694295 , year_2017:687910}},
        {country: 'Afghanistan', population_2012: 23280573, growth: 
        {year_2013:717151 , year_2014:706082 , year_2015:665025 , year_2016:616262 , year_2017:573643}},
       {country: 'Morocco', population_2012: 13619520, growth: 
       {year_2013:11862 , year_2014:7997 , year_2015:391 , year_2016:-8820 , year_2017:-17029}}
      ];
    </script>
    <style>
    text {
        font-size: 14px;
        fill: #999999;
    }

    text.barValue {
        font-family: sans-serif;
        fill: #FFFFFF;
    }
    #containerBoi {
        width: 99vw;
        height: 99vh;
        vertical-align:top;
    }
    body {
        margin: 0;
        padding: 0;
    }
    </style>
  </head>
  <body>
    <div id="containerBoi"></div>
    <!-- JS below -->
    <script>
        // use with array.reduce() to sum numbers
        function getSum(total, num) {
            return total + num;
        }

        // create new array with population aggregated  
        var myData = [ ];
        data.forEach(function(record) {
            let tmp = {
                country: record.country,
                population: (record.population_2012 + 
                Object.values(record.growth).reduce(getSum)
                )
            };
            myData.push(tmp);
        });
    </script>
    <script src="./interactive.js"></script>
  </body>
</html>
